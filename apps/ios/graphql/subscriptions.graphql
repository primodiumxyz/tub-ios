subscription GetLatestTokens($limit: Int = 10) {
    token(where: { mint: { _is_null: false } },order_by: { updated_at: desc }, limit: $limit) {
        id
        symbol
        supply
        name
        updated_at
    }
}

subscription GetLatestMockTokens($limit: Int = 10) {
    token(where: { mint: { _is_null: true } }, order_by: { updated_at: desc }, limit: $limit) {
      id
      name
      symbol
      supply
      updated_at
    }
  }

subscription GetTokenPriceHistorySince($tokenId: uuid!, $since: timestamp!) {
    token_price_history(
        where: { token: { _eq: $tokenId }, created_at: { _gte: $since } }
        limit: 100
        order_by: { created_at: desc }
    ) {
        created_at
        id
        price
        token
    }
}

subscription GetLatestTokenPrice($tokenId: uuid!) {
    token_price_history(where: { token: { _eq: $tokenId } }, order_by: { created_at: desc }, limit: 1) {
      created_at
      id
      price
      token
    }
}
